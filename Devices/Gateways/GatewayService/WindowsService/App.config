<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    
  <!-- sensors config -->
             
  <configSections>
    <section name="dataIntakes"
             type="WindowsService.Utils.DataIntakeConfigSection, GatewayService"
             requirePermission="true" restartOnExternalChanges="true" allowLocation="true"/>
    <section name="sensorEndpoints"
           type="WindowsService.Utils.SensorEndpointConfigSection, GatewayService"
           requirePermission="true" restartOnExternalChanges="true" allowLocation="true"/>
    <section name="AMQPServiceConfig"
      type="WindowsService.Utils.AMQPServiceConfigSection, GatewayService"
      requirePermission="true" restartOnExternalChanges="true" allowLocation="true"/>
  </configSections>

  <AMQPServiceConfig 
    AMQPSAddress="[Enter_AMQP_server_address]"
    EventHubName="[Enter_event_hub_name]"
    EventHubMessageSubject="[Enter_message_subject]"
    EventHubDeviceId="[Enter_hub_device_id]"
    EventHubDeviceDisplayName="[Enter_hub_display_name]"/>

  <dataIntakes>
  </dataIntakes>
      
  <sensorEndpoints>
    <add name="[EnterName]" port="0" host="[EnterIP]" />
  </sensorEndpoints>
      
  <!-- service config -->
    
  <system.serviceModel>
    <services>
      <!-- This section is optional with the new configuration model
           introduced in .NET Framework 4. -->
      <service name="Gateway.GatewayService"
               behaviorConfiguration="GatewayServiceBehavior">
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:8000/GatewayService/"/>
          </baseAddresses>
        </host>
        
        <!-- this endpoint is exposed at the base address provided by host  -->
        <endpoint address="API"
                  binding="webHttpBinding"
                  contract="Gateway.IGatewayService" behaviorConfiguration="WebHttp" />
      </service>
    </services>
    <behaviors>
      <endpointBehaviors>
        <behavior name="WebHttp">
          <webHttp />
        </behavior>
      </endpointBehaviors>
      <serviceBehaviors>
        <behavior name="GatewayServiceBehavior">
          <serviceMetadata httpGetEnabled="true"/>
          <serviceDebug includeExceptionDetailInFaults="true"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>

</configuration>